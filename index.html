<!DOCTYPE html>
<html lang="en">

	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>Middle Earth - Hobbit Migration</title>

		<!-- Bootstrap core CSS -->
		<link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">

		<!-- Custom fonts for this template -->
		<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="leaflet/leaflet.css"/>
		<link rel="stylesheet" href="leaflet/L.control.mousePosition.css" />
		 
		<!-- Custom styles for this template -->
		<link href="css/grayscale.css" rel="stylesheet">
			
		<style>
			#memap { height: calc(100% - 3.41667rem); };
		</style>
	</head>

	<body id="page-top">

		<!-- Navigation -->
		<div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="."><strong>MIDDLE EARTH - Third Age</strong></a>
				</div>
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li><a href=".">Home</a></li>
					</ul>
				</div><!--/.nav-collapse -->
			</div>
		</div>

		<!-- Map Section -->
		<div id="memap"></div>

		<!-- Bootstrap core JavaScript -->
		<script src="vendor/jquery/jquery.js"></script>
		<script src="vendor/popper/popper.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.js"></script>

		<!-- Plugin JavaScript -->
		<script src="vendor/jquery-easing/jquery.easing.js"></script>
	   
		<!-- Custom scripts for this template -->
		<script src="js/grayscale.js"></script>

		<!-- Leaflet and Plugins Scripts -->
		<script src="leaflet/leaflet.js"></script>
		<script src="leaflet/L.control.mousePosition.js"></script>

		<!-- Custom Map Script -->
		<script>
			var northwest = L.latLng(16, -23.4),
				southeast = L.latLng(-16, 23.4),
				bounds = L.latLngBounds(northwest, southeast),
				imageUrl = 'img/me-base.jpg',		
				imageBounds = [[-15, -22.4], [15, 22.4]],
				memap = L.map('memap', {
					attributionControl: false
				}).setMaxBounds(bounds).setView([0, 0], 6);
			L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
				minZoom: 5,
				maxZoom: 9,
				id: 'geyerbri-msu.1qh1chs8',
				accessToken: 'pk.eyJ1IjoiZ2V5ZXJicmktbXN1IiwiYSI6IkxTRGhIQnMifQ.HbqL3TWxcEQLB61NEzCNYA'
			}).addTo(memap);
			L.control.mousePosition().addTo(memap);
			L.control.attribution().setPrefix(
				'<a alt="A JS library for interactive maps" href="http://leafletjs.com" target="_blank">Leaflet</a>'
			).addAttribution(
				'Map Tile Imagery &copy; <a alt="Iron Crown Enterprise" href="http://ironcrown.com/middle-earth-role-playing/">Iron Crown Enterprises</a> | <a alt="Creative Commons" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a> | Compiled with <a alt="Mapbox" href="https://www.mapbox.com/" target="_blank">Mapbox Style Editor</a>'
			).addTo(memap);
//			L.imageOverlay(imageUrl, imageBounds).addTo(memap);	

			//add lines
			var point1 = new L.LatLng(6.256763, -39.201982),
				point2 = new L.LatLng(4.194048, -3.332777),
				point3 = new L.LatLng(-3.0994, 7.4431),
				pointList1 = [point1, point2, point3],
				firstpolyline = new L.Polyline(pointList1, {
				color: 'red',
				weight: 3,
				opacity: 1,
				smoothFactor: 1
			});
			firstpolyline.addTo(memap);
			var locations = L.geoJSON(geoJSON).addTo(memap);
			
			//add pins
			var geoJSON = [
				{
					type: 'Feature',
					geometry: {
					type: 'Point',
					coordinates: [0, 0]
				},
				properties: {
					title: 'Pantheon:',
					description: 'The Pantheon is a former Roman temple, now a church, in Rome, Italy, on the site of an earlier temple commissioned by Marcus Agrippa during the reign of Augustus (27 BC â€“ 14 AD). For more information <a href = "http://www.rome.info/pantheon/">click here.</a>',
					//image: 'https://farm9.staticflickr.com/8604/15769066303_3e4dcce464_n.jpg',
//					icon: {
//					//	iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/641883-200.png',
//						//shadowURL: '',
//						iconSize: [30, 30], // size of the icon
//						iconAnchor: [25, 25], // point of the icon which will correspond to marker's location
//						popupAnchor: [0, -25], // point from which the popup should open relative to the iconAnchor
//						className: 'dot'
//					}	
				}
				
				
				
				
				
			}];
			locations.on('layeradd', function(e) {
				var marker = e.layer,
				feature = marker.feature;
				marker.setIcon(L.icon(feature.properties.icon));
				var content = '<h4>' + feature.properties.title + '</h4>' + feature.properties.description + '';
				marker.bindPopup(content);
			});
			locations.addData(geoJSON);

			
		</script>

	</body>

</html>
